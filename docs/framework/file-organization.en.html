<!DOCTYPE HTML><html lang="zh-hans"><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8"http-equiv="Content-Type"><title>File organization</title><meta content="IE=edge"http-equiv="X-UA-Compatible"/><meta content="
  
"name="description"><meta content="GitBook 3.2.3"name="generator"><meta content="QuickApp.cn"name="author"><link href="../gitbook/style.css"rel="stylesheet"><link href="../gitbook/gitbook-plugin-search-pro/search.css"rel="stylesheet"><link href="../gitbook/gitbook-plugin-highlight-hap/website.css"rel="stylesheet"><link href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css"rel="stylesheet"><link href="../styles/website.css"rel="stylesheet"><meta content="no-cache"http-equiv="Pragma"/><meta content="no-cache"http-equiv="Cache-Control"/><meta content="0"http-equiv="Expires"/><meta content="true"name="HandheldFriendly"/><meta content="width=device-width,initial-scale=1,user-scalable=no"name="viewport"><meta content="yes"name="apple-mobile-web-app-capable"><meta content="black"name="apple-mobile-web-app-status-bar-style"><link href="../gitbook/images/apple-touch-icon-precomposed-152.png"rel="apple-touch-icon-precomposed"sizes="152x152"><link href="../gitbook/images/favicon.ico"rel="shortcut icon"type="image/x-icon"><link href="manifest.en.html"rel="next"/><link href="index.en.html"rel="prev"/><link href="manifest.en.html"rel="next"/><link href="index.en.html"rel="prev"/></head><body><header class="doc-header"><a href="javascript:;"class="btn doc-menu-toggle"aria-label=""><i class="fa fa-bars"aria-hidden="true"></i></a><div class="doc-logo"><a style="font-size:150%"target="_blank"title="quickapp">QuickApp</a></div><div class="doc-nav"><a href="../">Tutorial</a> <a href="index.en.html"class="current">Framework</a> <a href="../widgets/common-events.en.html">Widgets</a> <a href="../features/index.en.html">Features</a></div><div class="doc-search-bar"><div id="book-search-input"><i class="fa fa-search icon-search"aria-hidden="true"></i> <input placeholder="关键字搜索"type="text"></div></div></header><div class="doc-container"><nav class="doc-menu"role="navigation"><ul class="summary"><li class="open open chapter active"data-level="2.1.1.1"data-path="file-organization.en.html"><a href="file-organization.en.html">File organization</a></li><li class="open chapter"data-level="2.1.1.2"data-path="manifest.en.html"><a href="manifest.en.html">Manifest</a></li><li class="open chapter"data-level="2.1.1.3"data-path="source-file.en.html"><a href="source-file.en.html">Source file</a></li><li class="open chapter"data-level="2.1.1.4"data-path="template.en.html"><a href="template.en.html">Template</a></li><li class="open chapter"data-level="2.1.1.5"data-path="style-sheet.en.html"><a href="style-sheet.en.html">Style sheet</a></li><li class="open chapter"data-level="2.1.1.6"data-path="script.en.html"><a href="script.en.html">Script</a></li></ul></nav><div class="doc-content"><div class="doc-content-inner"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="markdown-section normal"><a href="#file-organization"id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="file-organization"><a href="#file-organization"class="anchor-navigation-ex-anchor"name="file-organization"><i class="fa fa-link"aria-hidden="true"></i></a>File organization</h1><h2 id="app-resources"><a href="#app-resources"class="anchor-navigation-ex-anchor"name="app-resources"><i class="fa fa-link"aria-hidden="true"></i></a>App resources</h2><p>An app contains: a <a href="manifest.en.html">manifest</a> that describes the project configuration, an <a href="source-file.en.html">app.ux</a> file that places the project's public source script, multiple <a href="source-file.en.html">UX files</a> that describe the web page/custom components. The following is a typical example:</p><p>App root directory</p><pre><code>├── manifest.json
├── app.ux
├── Page1
│   ├── page1.ux
├── Page2
│   ├── page2.ux
└── Common
    ├── ComponentA.ux
    ├── ComponentB.ux
    └── xxx.png
</code></pre><p>The files in the "Common" directory are public resource files and component files. The private source files and component files of each page, such as images, CSS, JS, etc., are placed in every web page's directory.</p><h2 id="file-storage"><a href="#file-storage"class="anchor-navigation-ex-anchor"name="file-storage"><i class="fa fa-link"aria-hidden="true"></i></a>File storage</h2><p>The files are stored according to partitions in the application platform, currently the following partitions are supported:</p><ol><li>Cache: it's used to cache files. For example, files downloaded through the fetch interface will be saved in this partition, the files cached here may be deleted by the system if storage space is insufficient.</li><li>Files: it's used to save smaller permanent files. The files in this partition are managed by the app itself.</li><li>Mass: it's used to store larger files. However, this partition can't be guaranteed to always be available.</li><li>Temp: it indicates a temporary file that has been mapped from outside. For security reasons, temp files are read-only and can only be obtained by calling a special API, e.g. the media.pickVideo method. Moreover, temp files are only temporarily accessible; when the app has been restarted, you can't access the temp file and must get it by calling a special API.</li></ol><p>Moreover, app resources are processed as a special read-only partition.</p><h2 id="uri"><a href="#uri"class="anchor-navigation-ex-anchor"name="uri"><i class="fa fa-link"aria-hidden="true"></i></a>URI</h2><p>URIs are used to indicate app resources and files. <a href="../widgets/common-events.en.html">Widgets</a> and <a href="../features/index.en.html">features</a> access the app resources and files via the URI.</p><table><thead><tr><th>Resource type</th><th>URI</th><th>Read-only</th><th>Example</th><th>Description</th></tr></thead><tbody><tr><td>App resources</td><td>/path</td><td>Yes</td><td>/Common/header.png</td><td>-</td></tr><tr><td>Cache</td><td>internal://cache/path</td><td>No</td><td>internal://cache/fetch-123456.png</td><td>-</td></tr><tr><td>Files</td><td>internal://files/path</td><td>No</td><td>internal://files/image/demo.png</td><td>-</td></tr><tr><td>Mass</td><td>internal://mass/path</td><td>No</td><td>internal://mass/video/demo.mp4</td><td>-</td></tr><tr><td>Temp</td><td>internal://tmp/path</td><td>Yes</td><td>internal://tmp/xxxxx</td><td>Generated by the system</td></tr></tbody></table><p>The characters allowed by the URI are <code>0-9a-zA-Z_-./%:</code> (not including quotation marks). <code>..</code> can't appear in the URI, the URI supports directory structure, the directory is separated by a dash '/'.</p><p>Internal URI indicates private files. That is, when an internal URI is specified, there is no need to specify an app ID, the same internal URI will indicate different files for different apps.</p><h2 id="resources-and-file-access-rules"><a href="#resources-and-file-access-rules"class="anchor-navigation-ex-anchor"name="resources-and-file-access-rules"><i class="fa fa-link"aria-hidden="true"></i></a>Resources and file access rules</h2><p>There are 2 types of app resource paths: absolute and relative paths. Paths that start with "/" are absolute paths, e.g. /Common/a.png; paths that don't start with "/" are relative paths, e.g. a.png and ../Common/a.png etc.</p><p>There 2 types of app source files: code and resource files. Code files refer to files that contain code, such as .js/.css/.ux, etc. Other files are source files, this type of file can generally only be used for data, e.g., for images, videos, etc.</p><ol><li>In a code file, when importing other code files, use a relative path, e.g.: Common/component.ux.</li><li>In a code file, under normal circumstances, when referencing resource files (such as images, videos, etc.), a relative path should be used, e.g.: ./abc.png.</li><li>When importing a code file, if the import file is in the same directory as the imported file, and when the imported file references resource files, you can use relative path, but if they are not in the same directory, then you must use an absolute path. This is because when the imported file is compiled, it is copied into the import file, and after it's compiled the directory will change. For example, if the a.css file is imported by the b.ux file, and a.css is in the same directory as b.ux, when a.css references the resource file, you can write a relative path: abc.png. However, if they are not in the same directory, you must write an absolute path: /Common/abc.png. Another example is when the a.ux file is imported by the b.ux file, if the a.ux and b.ux files are in the same directory, when a.ux references the resource file, you can write a relative path: a.png. If they are not in the same directory, when a.ux references the resource file, you must write an absolute path: /Common/abc.png.</li><li>CSS is consistent with front-end development, use the URL (PATH) method to access the resource file, e.g. url (/Common/abc.png)</li></ol></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> 条匹配 "<span class="search-query"></span>" 的结果</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">没有搜索到与 "<span class="search-query"></span>" 相关的内容</h1></div></div></div></div></div><a href="index.en.html"class="navigation navigation-prev"aria-label="Previous page: Framework"><i class="fa fa-angle-left"></i> </a><a href="manifest.en.html"class="navigation navigation-next"aria-label="Next page: Manifest"><i class="fa fa-angle-right"></i></a></div></div><script src="../gitbook/gitbook.js"></script><script src="../gitbook/gitbook-plugin-hap-util/plugin.js"></script><script src="../gitbook/gitbook-plugin-nocache/nocache.js"></script><script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script><script src="../gitbook/gitbook-plugin-search-pro/search.js"></script><script>gitbook.page.hasChanged({page:{title:"File organization",level:"2.1.1.1",depth:3,next:{title:"Manifest",level:"2.1.1.2",depth:3,path:"framework/manifest.en.md",ref:"framework/manifest.en.md",articles:[]},previous:{title:"Framework",level:"2.1.1",depth:2,path:"framework/index.en.md",ref:"framework/index.en.md",articles:[{title:"File organization",level:"2.1.1.1",depth:3,path:"framework/file-organization.en.md",ref:"framework/file-organization.en.md",articles:[]},{title:"Manifest",level:"2.1.1.2",depth:3,path:"framework/manifest.en.md",ref:"framework/manifest.en.md",articles:[]},{title:"Source file",level:"2.1.1.3",depth:3,path:"framework/source-file.en.md",ref:"framework/source-file.en.md",articles:[]},{title:"Template",level:"2.1.1.4",depth:3,path:"framework/template.en.md",ref:"framework/template.en.md",articles:[]},{title:"Style sheet",level:"2.1.1.5",depth:3,path:"framework/style-sheet.en.md",ref:"framework/style-sheet.en.md",articles:[]},{title:"Script",level:"2.1.1.6",depth:3,path:"framework/script.en.md",ref:"framework/script.en.md",articles:[]}]},dir:"ltr"},config:{plugins:["html-minifier","-sharing","-fontsettings","hap-util","favicon","theme-default","nocache","-lunr","-search","search-pro","-highlight","highlight-hap","anchor-navigation-ex"],styles:{website:"styles/website.css"},pluginsConfig:{favicon:{shortcut:"",bookmark:""},"html-minifier":{customAttrSurround:[],removeScriptTypeAttributes:!1,removeEmptyAttributes:!1,removeRedundantAttributes:!1,removeEmptyElements:!1,sortClassName:!0,caseSensitive:!0,html5:!0,collapseWhitespace:!0,processConditionalComments:!1,quoteCharacter:null,keepClosingSlash:!0,preventAttributesEscaping:!1,minifyURLs:!1,removeAttributeQuotes:!1,decodeEntities:!0,trimCustomFragments:!1,customAttrAssign:[],includeAutoGeneratedTags:!0,collapseInlineTagWhitespace:!1,collapseBooleanAttributes:!0,minifyJS:!0,removeTagWhitespace:!0,preserveLineBreaks:!1,sortAttributes:!0,removeStyleLinkTypeAttributes:!1,removeComments:!0,minifyCSS:!0,processScripts:[],conservativeCollapse:!1,removeOptionalTags:!1,useShortDoctype:!1},"anchor-navigation-ex":{associatedWithSummary:!1,float:{floatIcon:"fa fa-navicon",level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},mode:"",multipleH1:!0,pageTop:{level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},printLog:!1,showGoTop:!0,showLevel:!1},"hap-util":{},nocache:{},"search-pro":{},"highlight-hap":{},"theme-default":{showLevel:!1,styles:{ebook:"styles/ebook.css",epub:"styles/epub.css",mobi:"styles/mobi.css",pdf:"styles/pdf.css",print:"styles/print.css",website:"styles/website.css"}}},theme:"default",author:"QuickApp.cn",pdf:{pageNumbers:!0,fontSize:12,fontFamily:"Arial",paperSize:"a4",chapterMark:"pagebreak",pageBreaksBefore:"/",margin:{right:62,left:62,top:56,bottom:56}},structure:{langs:"LANGS.md",readme:"README.md",glossary:"GLOSSARY.md",summary:"SUMMARY.md"},variables:{},version:"{{datetime}}",title:"快应用开发文档",language:"zh-hans",gitbook:"3.2.3",description:"快应用的开发文档，供快应用开发者学习和参考"},file:{path:"framework/file-organization.en.md",mtime:"2021-09-14T04:27:18.498Z",type:"markdown"},gitbook:{version:"3.2.3",time:"2021-09-22T03:43:40.422Z"},basePath:"..",book:{language:""}}),function(){var e=location.pathname.split("/")[1];e!=(sessionStorage.getItem("indexTab")||"")&&sessionStorage.setItem("mst",0),~location.pathname.indexOf(".html")||sessionStorage.setItem("mst",0),sessionStorage.setItem("indexTab",e);var t=$(".doc-menu"),a=$(".summary");if(!(t.height()>a.height()&&0!==a.height())){t.scroll(function(){sessionStorage.setItem("mst",t.scrollTop())});var s=sessionStorage.getItem("mst")||0;t.scrollTop(s),$("ul.summary li").each(function(){var e=$(this);10<e.data("level").length&&(e.hasClass("active")?e.parent().parent().attr("class","open chapter cur"):e.parent().parent().siblings().each(function(){var e=$(this);!e.hasClass("cur")&&e.hasClass("open chapter")&&e.attr("class","chapter")}))})}}()</script></body></html>