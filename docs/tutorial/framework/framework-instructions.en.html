<!DOCTYPE HTML><html lang="zh-hans"><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8"http-equiv="Content-Type"><title>Framework commands</title><meta content="IE=edge"http-equiv="X-UA-Compatible"/><meta content="
  
"name="description"><meta content="GitBook 3.2.3"name="generator"><meta content="QuickApp.cn"name="author"><link href="../../gitbook/style.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-search-pro/search.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-highlight-hap/website.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css"rel="stylesheet"><link href="../../styles/website.css"rel="stylesheet"><meta content="no-cache"http-equiv="Pragma"/><meta content="no-cache"http-equiv="Cache-Control"/><meta content="0"http-equiv="Expires"/><meta content="true"name="HandheldFriendly"/><meta content="width=device-width,initial-scale=1,user-scalable=no"name="viewport"><meta content="yes"name="apple-mobile-web-app-capable"><meta content="black"name="apple-mobile-web-app-status-bar-style"><link href="../../gitbook/images/apple-touch-icon-precomposed-152.png"rel="apple-touch-icon-precomposed"sizes="152x152"><link href="../../gitbook/images/favicon.ico"rel="shortcut icon"type="image/x-icon"><link href="switching-pages-and-passing-parameters.en.html"rel="next"/><link href="page-style-and-layout.en.html"rel="prev"/><link href="switching-pages-and-passing-parameters.en.html"rel="next"/><link href="page-style-and-layout.en.html"rel="prev"/></head><body><header class="doc-header"><a href="javascript:;"class="btn doc-menu-toggle"aria-label=""><i class="fa fa-bars"aria-hidden="true"></i></a><div class="doc-logo"><a style="font-size:150%"target="_blank"title="quickapp">QuickApp</a></div><div class="doc-nav"><a href="../../"class="current">Tutorial</a> <a href="../../tools/toolkit-tools.en.html">Tools</a> <a href="../../framework/index.en.html">Framework</a> <a href="../../widgets/common-events.en.html">Widgets</a> <a href="../../features/index.en.html">Features</a></div><div class="doc-search-bar"><div id="book-search-input"><i class="fa fa-search icon-search"aria-hidden="true"></i> <input placeholder="关键字搜索"type="text"></div></div></header><div class="doc-container"><nav class="doc-menu"role="navigation"><ul class="summary"><li class="open chapter"data-level="1.1.1.1"><a href="javascript:;">Get started <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="1.1.1.1.1"data-path="../../"><a href="../../">Build environment</a></li><li class="open chapter"data-level="1.1.1.1.2"data-path="../getting-started/the-first-program.en.html"><a href="../getting-started/the-first-program.en.html">The first program</a></li><li class="open chapter"data-level="1.1.1.1.3"data-path="../getting-started/hello-world.en.html"><a href="../getting-started/hello-world.en.html">HelloWorld</a></li><li class="open chapter"data-level="1.1.1.1.4"data-path="../getting-started/development-and-debugging.en.html"><a href="../getting-started/development-and-debugging.en.html">Development and debugging</a></li><li class="open chapter"data-level="1.1.1.1.5"data-path="../getting-started/project-configuration.en.html"><a href="../getting-started/project-configuration.en.html">Project configuration</a></li></ul></li><li class="open open chapter"data-level="1.1.1.2"><a href="javascript:;">Framework <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="1.1.1.2.1"data-path="lifecycle.en.html"><a href="lifecycle.en.html">Lifecycle</a></li><li class="open chapter"data-level="1.1.1.2.2"data-path="page-style-and-layout.en.html"><a href="page-style-and-layout.en.html">Page style and layout</a></li><li class="open open chapter active"data-level="1.1.1.2.3"data-path="framework-instructions.en.html"><a href="framework-instructions.en.html">Framework commands</a></li><li class="open chapter"data-level="1.1.1.2.4"data-path="switching-pages-and-passing-parameters.en.html"><a href="switching-pages-and-passing-parameters.en.html">Switching pages and passing parameters</a></li><li class="open chapter"data-level="1.1.1.2.5"data-path="event-monitoring-and-triggering.en.html"><a href="event-monitoring-and-triggering.en.html">Event monitoring and triggering</a></li><li class="open chapter"data-level="1.1.1.2.6"data-path="parent-child-component-communication.en.html"><a href="parent-child-component-communication.en.html">Parent-child component communication</a></li><li class="open chapter"data-level="1.1.1.2.7"data-path="using-async.en.html"><a href="using-async.en.html">Using async</a></li></ul></li><li class="open chapter"data-level="1.1.1.3"data-path="../widgets/index.en.md"><a href="javascript:;">Widgets <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="1.1.1.3.1"data-path="../widgets/list-tutorial.en.html"><a href="../widgets/list-tutorial.en.html">List tutorial</a></li></ul></li></ul></nav><div class="doc-content"><div class="doc-content-inner"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="markdown-section normal"><a href="#framework-commands"id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="framework-commands"><a href="#framework-commands"class="anchor-navigation-ex-anchor"name="framework-commands"><i class="fa fa-link"aria-hidden="true"></i></a>Framework commands</h1><blockquote><p>Learn about the commands and components provided by the framework: for, if, show, block, and slot.</p></blockquote><p>Here's what you'll be able to use after reading:</p><ul><li>"for" command</li><li>"if" and "show" commands</li><li>"block" component</li><li>"slot" component</li></ul><blockquote><p>You can find the code described in this tutorial here: src/Directive directory</p></blockquote><h2 id="for-command"><a href="#for-command"class="anchor-navigation-ex-anchor"name="for-command"><i class="fa fa-link"aria-hidden="true"></i></a>"for" command</h2><p>"for" command is used for the loop output of arrays, for example:</p><pre><code>&lt;template>
  &lt;div class="tutorial-page">

    &lt;!-- Method 1: $item represents the element of the array, and $idx represents the index in the array by default -->
    &lt;div class="tutorial-row" for="{{list}}">
      &lt;text>{{$idx}}.{{$item.name}}&lt;/text>
    &lt;/div>

    &lt;!-- Method 2: Customize the element variable name -->
    &lt;div class="tutorial-row" for="value in list">
      &lt;text>{{$idx}}.{{value.name}}&lt;/text>
    &lt;/div>

    &lt;!-- Method 3: Customize element and index's variable name -->
    &lt;div class="tutorial-row" for="(personIndex, personItem) in list">
      &lt;text>{{personIndex}}.{{personItem.name}}&lt;/text>
    &lt;/div>
  &lt;/div>
&lt;/template>

&lt;style lang="less">
  .tutorial-page {
    flex-direction: column;

    .tutorial-row {
      width: 85%;
      margin-top: 10px;
      margin-bottom: 10px;
    }
  }
&lt;/style>

&lt;script>
  export default {
    onInit () {
      this.$page.setTitleBar({ text: '"for" command' })
    },
    data: {
      list: [{name: 'aa'}, { name: 'bb' }]
    }
  }
&lt;/script>
</code></pre><p>When rendering a page, the structure of <code>div.tutorial-row</code> will be duplicated by looping according to the definition of the data list in the script.</p><p>Note:</p><ul><li>When custom variables represent array indexes and array elements of "for" command, the variable name can't start with <code>$</code> or <code>_</code>.</li></ul><h2 id="if-and-show-commands"><a href="#if-and-show-commands"class="anchor-navigation-ex-anchor"name="if-and-show-commands"><i class="fa fa-link"aria-hidden="true"></i></a>"if" and "show" commands</h2><p>"if " is a conditional command that refers to the if/elif/else commands which are used to control whether to add or delete components.</p><p>"show" command can decide whether to display components. It's used to control their display status, and won't delete them from the DOM structure.</p><pre><code>&lt;template>
  &lt;div class="tutorial-page">
    &lt;text onclick="onClickShow">Show hidden items: &lt;/text>
    &lt;text show="{{showVar}}">show: Render while control whether to show&lt;/text>

    &lt;text onclick="onClickCondition">Condition command: &lt;/text>
    &lt;text if="{{conditionVar === 1}}">if: if condition&lt;/text>
    &lt;text elif="{{conditionVar === 2}}">elif: elif condition&lt;/text>
    &lt;text else>else: else&lt;/text>
  &lt;/div>
&lt;/template>

&lt;style lang="less">
  .tutorial-page {
    flex-direction: column;
  }
&lt;/style>

&lt;script>
  export default {
    onInit () {
      this.$page.setTitleBar({ text: '"if" command and "show" command' })
    },
    data: {
      showVar: true,
      conditionVar: 1
    },
    onClickShow () {
      this.showVar = !this.showVar
    },
    onClickCondition () {
      this.conditionVar = ++this.conditionVar % 3
    }
  }
&lt;/script>
</code></pre><p>When the "if/elif" command value is false, the node will be removed from the page, while when it's true, the component will be inserted into the node dynamically. When the "show" command value is true, the node is visible, while when it's false, the component is invisible, and node will still remain in the page DOM structure.</p><p>Note:</p><ul><li>"if/elif/else" nodes must be adjacent.</li></ul><h2 id="block-component"><a href="#block-component"class="anchor-navigation-ex-anchor"name="block-component"><i class="fa fa-link"aria-hidden="true"></i></a>"block" component</h2><p>"block" component expresses logical block without corresponding <code>Native component</code>. You can use <code>&lt;block></code> to implement more flexible "list/conditional rendering". For example, use mixed commands of "for", "if", and "show" in <code>&lt;block></code>.</p><pre><code>&lt;template>
  &lt;div class="tutorial-page">
    &lt;text onclick="toggleCityList">Tap: Control whether to show city&lt;/text>
    &lt;list>
      &lt;block for="city in cityList" if="{{showCityList === 1}}">
        &lt;list-item type="city">
          &lt;text>City: {{city.name}}&lt;/text>
          &lt;block for="{{city.spots}}">
            &lt;div show="{{city.showSpots}}">
              &lt;text>Sight: {{$item.name}}&lt;/text>
            &lt;/div>
          &lt;/block>
        &lt;/list-item>
      &lt;/block>
    &lt;/list>
  &lt;/div>
&lt;/template>

&lt;style lang="less">
  .tutorial-page {
    flex-direction: column;
  }

  list, list-item {
    flex-direction: column;
  }
&lt;/style>

&lt;script>
  export default {
    onInit () {
      this.$page.setTitleBar({ text: '组件block' })
    },
    data: {
      'showCityList': 1,
      'cityList': [
        {
          'name': '北京',
          'showSpots': true,
          'spots': [
            { 'name': 'Tian'anmen' },
            { 'name': 'Badaling Great Wall' }
          ]
        },
        {
          'name': '上海',
          'showSpots': false,
          'spots': [
            { 'name': '东方明珠' }
          ]
        }
      ]
    },
    toggleCityList () {
      this.showCityList = this.showCityList === 1 ? 0 : 1
    }
  }
&lt;/script>
</code></pre><p>This example is a little bit complicated and integrates the points mentioned before. Here's the explanation:</p><ul><li>"showCityList" is used to control whether to generate the list elements (i.e. a list of cities) on a page</li><li>"cityList" array represents the city list data that needs to be rendered by the list</li><li>"showSpots" in each element of the "cityList" array determines whether to display the spots data for current city</li></ul><p>These combinations allow expressing complex logic.</p><h2 id="slot-component"><a href="#slot-component"class="anchor-navigation-ex-anchor"name="slot-component"><i class="fa fa-link"aria-hidden="true"></i></a>"slot" component</h2><p>"slot" node is used to insert content into an extra custom ux component.</p><p>Typically, a <code>slot component</code> is provided in the template for the custom components, and when the component is introduced to the page, the developer can flexibly define the child content within that custom component.</p><p>Custom components <code>part1.ux</code> and <code>index.ux</code> can be defined as follows:</p><pre><code>&lt;!-- par1.ux -->
&lt;template>
  &lt;div>
    &lt;text>{{ header }}&lt;/text>
    &lt;slot>&lt;/slot>
    &lt;text>{{ footer }}&lt;/text>
  &lt;/div>
&lt;/template>

&lt;style>
&lt;/style>

&lt;script>
  export default {
    props: [
      'header', 'footer'
    ]
  }
&lt;/script>
</code></pre><pre><code>&lt;!-- index.ux -->
&lt;import src="./part1">&lt;/import>

&lt;template>
  &lt;part1 class="component" header="{{header}}" footer="{{footer}}">
    &lt;text>slot node content&lt;/text>
  &lt;/part1>
&lt;/template>

&lt;style>
  .component {
    flex-direction: column;
  }
&lt;/style>

&lt;script>
  export default {
    onInit () {
      this.$page.setTitleBar({ text: 'Componnetslot' })
    },
    data: {
      'header': 'HEAD',
      'footer': 'FOOT'
    }
  }
&lt;/script>
</code></pre><p>Use the "slot" component in the child component, so that it can accept the child content that the caller passed in, and dynamically render the child component to get the final page.</p><h2 id="summary"><a href="#summary"class="anchor-navigation-ex-anchor"name="summary"><i class="fa fa-link"aria-hidden="true"></i></a>Summary</h2><p>Commands "for", "if", "show", and "block" component are commonly used. Make sure you know how to apply them.</p></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> 条匹配 "<span class="search-query"></span>" 的结果</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">没有搜索到与 "<span class="search-query"></span>" 相关的内容</h1></div></div></div></div></div><a href="page-style-and-layout.en.html"class="navigation navigation-prev"aria-label="Previous page: Page style and layout"><i class="fa fa-angle-left"></i> </a><a href="switching-pages-and-passing-parameters.en.html"class="navigation navigation-next"aria-label="Next page: Switching pages and passing parameters"><i class="fa fa-angle-right"></i></a></div></div><script src="../../gitbook/gitbook.js"></script><script src="../../gitbook/gitbook-plugin-hap-util/plugin.js"></script><script src="../../gitbook/gitbook-plugin-nocache/nocache.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script><script>gitbook.page.hasChanged({page:{title:"Framework commands",level:"1.1.1.2.3",depth:4,next:{title:"Switching pages and passing parameters",level:"1.1.1.2.4",depth:4,path:"tutorial/framework/switching-pages-and-passing-parameters.en.md",ref:"tutorial/framework/switching-pages-and-passing-parameters.en.md",articles:[]},previous:{title:"Page style and layout",level:"1.1.1.2.2",depth:4,path:"tutorial/framework/page-style-and-layout.en.md",ref:"tutorial/framework/page-style-and-layout.en.md",articles:[]},dir:"ltr"},config:{plugins:["html-minifier","-sharing","-fontsettings","hap-util","favicon","theme-default","nocache","-lunr","-search","search-pro","-highlight","highlight-hap","anchor-navigation-ex"],styles:{website:"styles/website.css"},pluginsConfig:{favicon:{shortcut:"",bookmark:""},"html-minifier":{customAttrSurround:[],removeScriptTypeAttributes:!1,removeEmptyAttributes:!1,removeRedundantAttributes:!1,removeEmptyElements:!1,sortClassName:!0,caseSensitive:!0,html5:!0,collapseWhitespace:!0,processConditionalComments:!1,quoteCharacter:null,keepClosingSlash:!0,preventAttributesEscaping:!1,minifyURLs:!1,removeAttributeQuotes:!1,decodeEntities:!0,trimCustomFragments:!1,customAttrAssign:[],includeAutoGeneratedTags:!0,collapseInlineTagWhitespace:!1,collapseBooleanAttributes:!0,minifyJS:!0,removeTagWhitespace:!0,preserveLineBreaks:!1,sortAttributes:!0,removeStyleLinkTypeAttributes:!1,removeComments:!0,minifyCSS:!0,processScripts:[],conservativeCollapse:!1,removeOptionalTags:!1,useShortDoctype:!1},"anchor-navigation-ex":{associatedWithSummary:!1,float:{floatIcon:"fa fa-navicon",level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},mode:"",multipleH1:!0,pageTop:{level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},printLog:!1,showGoTop:!0,showLevel:!1},"hap-util":{},nocache:{},"search-pro":{},"highlight-hap":{},"theme-default":{showLevel:!1,styles:{ebook:"styles/ebook.css",epub:"styles/epub.css",mobi:"styles/mobi.css",pdf:"styles/pdf.css",print:"styles/print.css",website:"styles/website.css"}}},theme:"default",author:"QuickApp.cn",pdf:{pageNumbers:!0,fontSize:12,fontFamily:"Arial",paperSize:"a4",chapterMark:"pagebreak",pageBreaksBefore:"/",margin:{right:62,left:62,top:56,bottom:56}},structure:{langs:"LANGS.md",readme:"README.md",glossary:"GLOSSARY.md",summary:"SUMMARY.md"},variables:{},version:"{{datetime}}",title:"快应用开发文档",language:"zh-hans",gitbook:"3.2.3",description:"快应用的开发文档，供快应用开发者学习和参考"},file:{path:"tutorial/framework/framework-instructions.en.md",mtime:"2021-08-06T01:39:46.210Z",type:"markdown"},gitbook:{version:"3.2.3",time:"2021-08-06T01:51:46.619Z"},basePath:"../..",book:{language:""}}),function(){var e=location.pathname.split("/")[1];e!=(sessionStorage.getItem("indexTab")||"")&&sessionStorage.setItem("mst",0),~location.pathname.indexOf(".html")||sessionStorage.setItem("mst",0),sessionStorage.setItem("indexTab",e);var t=$(".doc-menu"),s=$(".summary");if(!(t.height()>s.height()&&0!==s.height())){t.scroll(function(){sessionStorage.setItem("mst",t.scrollTop())});var a=sessionStorage.getItem("mst")||0;t.scrollTop(a),$("ul.summary li").each(function(){var e=$(this);10<e.data("level").length&&(e.hasClass("active")?e.parent().parent().attr("class","open chapter cur"):e.parent().parent().siblings().each(function(){var e=$(this);!e.hasClass("cur")&&e.hasClass("open chapter")&&e.attr("class","chapter")}))})}}()</script></body></html>