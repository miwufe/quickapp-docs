<!DOCTYPE HTML><html lang="zh-hans"><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8"http-equiv="Content-Type"><title>Development and debugging</title><meta content="IE=edge"http-equiv="X-UA-Compatible"/><meta content="
  
"name="description"><meta content="GitBook 3.2.3"name="generator"><meta content="QuickApp.cn"name="author"><link href="../../gitbook/style.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-search-pro/search.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-highlight-hap/website.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css"rel="stylesheet"><link href="../../styles/website.css"rel="stylesheet"><meta content="no-cache"http-equiv="Pragma"/><meta content="no-cache"http-equiv="Cache-Control"/><meta content="0"http-equiv="Expires"/><meta content="true"name="HandheldFriendly"/><meta content="width=device-width,initial-scale=1,user-scalable=no"name="viewport"><meta content="yes"name="apple-mobile-web-app-capable"><meta content="black"name="apple-mobile-web-app-status-bar-style"><link href="../../gitbook/images/apple-touch-icon-precomposed-152.png"rel="apple-touch-icon-precomposed"sizes="152x152"><link href="../../gitbook/images/favicon.ico"rel="shortcut icon"type="image/x-icon"><link href="project-configuration.en.html"rel="next"/><link href="hello-world.en.html"rel="prev"/><link href="project-configuration.en.html"rel="next"/><link href="hello-world.en.html"rel="prev"/></head><body><header class="doc-header"><a href="javascript:;"class="btn doc-menu-toggle"aria-label=""><i class="fa fa-bars"aria-hidden="true"></i></a><div class="doc-logo"><a style="font-size:150%"target="_blank"title="quickapp">QuickApp</a></div><div class="doc-nav"><a href="../../"class="current">Tutorial</a> <a href="../../tools/toolkit-tools.en.html">Tools</a> <a href="../../framework/index.en.html">Framework</a> <a href="../../widgets/common-events.en.html">Widgets</a> <a href="../../features/index.en.html">Features</a></div><div class="doc-search-bar"><div id="book-search-input"><i class="fa fa-search icon-search"aria-hidden="true"></i> <input placeholder="关键字搜索"type="text"></div></div></header><div class="doc-container"><nav class="doc-menu"role="navigation"><ul class="summary"><li class="open open chapter"data-level="1.1.1.1"><a href="javascript:;">Get started <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="1.1.1.1.1"data-path="../../"><a href="../../">Build environment</a></li><li class="open chapter"data-level="1.1.1.1.2"data-path="the-first-program.en.html"><a href="the-first-program.en.html">The first program</a></li><li class="open chapter"data-level="1.1.1.1.3"data-path="hello-world.en.html"><a href="hello-world.en.html">HelloWorld</a></li><li class="open open chapter active"data-level="1.1.1.1.4"data-path="development-and-debugging.en.html"><a href="development-and-debugging.en.html">Development and debugging</a></li><li class="open chapter"data-level="1.1.1.1.5"data-path="project-configuration.en.html"><a href="project-configuration.en.html">Project configuration</a></li></ul></li><li class="open chapter"data-level="1.1.1.2"><a href="javascript:;">Framework <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="1.1.1.2.1"data-path="../framework/lifecycle.en.html"><a href="../framework/lifecycle.en.html">Lifecycle</a></li><li class="open chapter"data-level="1.1.1.2.2"data-path="../framework/page-style-and-layout.en.html"><a href="../framework/page-style-and-layout.en.html">Page style and layout</a></li><li class="open chapter"data-level="1.1.1.2.3"data-path="../framework/framework-instructions.en.html"><a href="../framework/framework-instructions.en.html">Framework commands</a></li><li class="open chapter"data-level="1.1.1.2.4"data-path="../framework/switching-pages-and-passing-parameters.en.html"><a href="../framework/switching-pages-and-passing-parameters.en.html">Switching pages and passing parameters</a></li><li class="open chapter"data-level="1.1.1.2.5"data-path="../framework/event-monitoring-and-triggering.en.html"><a href="../framework/event-monitoring-and-triggering.en.html">Event monitoring and triggering</a></li><li class="open chapter"data-level="1.1.1.2.6"data-path="../framework/parent-child-component-communication.en.html"><a href="../framework/parent-child-component-communication.en.html">Parent-child component communication</a></li><li class="open chapter"data-level="1.1.1.2.7"data-path="../framework/using-async.en.html"><a href="../framework/using-async.en.html">Using async</a></li></ul></li><li class="open chapter"data-level="1.1.1.3"data-path="../widgets/index.en.md"><a href="javascript:;">Widgets <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="1.1.1.3.1"data-path="../widgets/list-tutorial.en.html"><a href="../widgets/list-tutorial.en.html">List tutorial</a></li></ul></li></ul></nav><div class="doc-content"><div class="doc-content-inner"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="markdown-section normal"><a href="#development-and-debugging"id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="development-and-debugging"><a href="#development-and-debugging"class="anchor-navigation-ex-anchor"name="development-and-debugging"><i class="fa fa-link"aria-hidden="true"></i></a>Development and debugging</h1><blockquote><p>Here we describe the development and debugging methods which will help you locate and solve problems.</p></blockquote><p>Here's what you'll be able to do after reading:</p><ul><li>Use log output</li><li>Debug remotely</li><li>Debug browser rendering</li></ul><h2 id="using-log-output"><a href="#using-log-output"class="anchor-navigation-ex-anchor"name="using-log-output"><i class="fa fa-link"aria-hidden="true"></i></a>Using log output</h2><p><strong>1. Change log level</strong></p><p>Open the manifest.json file in the "src" folder of the project's root directory. Locate the configuration ("config"), and modify "logLevel" to the lowest level of <code>debug</code>. This will allow all levels of log output.</p><p>Here's how the code in <code>&lt;projectname>/src/manifest.json</code> will look like after you do this:</p><pre><code>{
　"config": {
  　　"logLevel": "debug"
  }
}
</code></pre><p><strong>2. Generate logs in JS</strong></p><p>If the JS code doesn't run as required, generating logs can help developers quickly locate the problem. To be consistent with the traditional front-end development, use the <code>console</code> object to generate logs:</p><pre><code>console.debug('debug')
console.log('log')
console.info('info')
console.warn('warn')
console.error('error')
</code></pre><p><strong>3. View logs</strong></p><p>Open the running platform. You'll see the <code>Show logs</code> button in the lower right corner. Tap it to view logs. You can also use the <code>Android Monitor</code> output of <code>Android Studio</code> to view logs.</p><h2 id="remote-debugging"><a href="#remote-debugging"class="anchor-navigation-ex-anchor"name="remote-debugging"><i class="fa fa-link"aria-hidden="true"></i></a>Remote debugging</h2><p>You can open the <code>Debugging page</code> in Chrome to debug the app on your phone.</p><p>Here are the steps:</p><ul><li>Run the following command in the root directory, start the HTTP debug server, and provide debug page requests:</li></ul><pre><code>npm run debug
</code></pre><ul><li>Open <code>http://localhost:8081</code> in your browser, and you'll see the QR code.</li><li><code>Go to app platform --> Menu --> tap "Settings" --> tap "Scan the QR code"</code>. After scanning, the browser will show this link: <code>Enter the debugging page</code>.</li><li>Click this link to enter the debugging page.</li></ul><p>Note:</p><p>If the version of node you're using is 8.x.x, you'll have to do the following: after running the <code>hap update --force</code> for the first time, delete the package-lock.json file, run <code>npm install</code> and <code>hap update --force</code> once; after that, start the debug server by <code>npm run debug</code>.</p><h2 id="debug-browser-rendering"><a href="#debug-browser-rendering"class="anchor-navigation-ex-anchor"name="debug-browser-rendering"><i class="fa fa-link"aria-hidden="true"></i></a>Debug browser rendering</h2><p>The page effects that developers will see in the app platform are rendered by <code>Native</code>, and not by <code>WebView</code>. Browser rendering debugging refers to the rendering that is done by the <code>Browser's WebKit engine</code>. Whenever a rendering effect is inconsistent with <code>Native</code>, <code>Native</code> should prevail.</p><p>Run the following command in the project's root directory:</p><pre><code># Default port: 8080 
npm run test:h5
</code></pre><p>Go to <code>http://localhost:8080/webpack-dev-server</code> in Chrome. You'll see the structure similar to the "src" folder. Each ux file here corresponds to an HTML file.</p><p>Click on the HTML file to debug it. You can preview the page rendered by the browser. The debugging method is the same as that for the regular web pages.</p><h2 id="summary"><a href="#summary"class="anchor-navigation-ex-anchor"name="summary"><i class="fa fa-link"aria-hidden="true"></i></a>Summary</h2><p>So far you've learned how projects are debugged and run. In the next chapters, we'll describe more details. You can skip the sections you're already familiar with and focus on the information you need most in your work.</p></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> 条匹配 "<span class="search-query"></span>" 的结果</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">没有搜索到与 "<span class="search-query"></span>" 相关的内容</h1></div></div></div></div></div><a href="hello-world.en.html"class="navigation navigation-prev"aria-label="Previous page: HelloWorld"><i class="fa fa-angle-left"></i> </a><a href="project-configuration.en.html"class="navigation navigation-next"aria-label="Next page: Project configuration"><i class="fa fa-angle-right"></i></a></div></div><script src="../../gitbook/gitbook.js"></script><script src="../../gitbook/gitbook-plugin-hap-util/plugin.js"></script><script src="../../gitbook/gitbook-plugin-nocache/nocache.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script><script>gitbook.page.hasChanged({page:{title:"Development and debugging",level:"1.1.1.1.4",depth:4,next:{title:"Project configuration",level:"1.1.1.1.5",depth:4,path:"tutorial/getting-started/project-configuration.en.md",ref:"tutorial/getting-started/project-configuration.en.md",articles:[]},previous:{title:"HelloWorld",level:"1.1.1.1.3",depth:4,path:"tutorial/getting-started/hello-world.en.md",ref:"tutorial/getting-started/hello-world.en.md",articles:[]},dir:"ltr"},config:{plugins:["html-minifier","-sharing","-fontsettings","hap-util","favicon","theme-default","nocache","-lunr","-search","search-pro","-highlight","highlight-hap","anchor-navigation-ex"],styles:{website:"styles/website.css"},pluginsConfig:{favicon:{shortcut:"",bookmark:""},"html-minifier":{customAttrSurround:[],removeScriptTypeAttributes:!1,removeEmptyAttributes:!1,removeRedundantAttributes:!1,removeEmptyElements:!1,sortClassName:!0,caseSensitive:!0,html5:!0,collapseWhitespace:!0,processConditionalComments:!1,quoteCharacter:null,keepClosingSlash:!0,preventAttributesEscaping:!1,minifyURLs:!1,removeAttributeQuotes:!1,decodeEntities:!0,trimCustomFragments:!1,customAttrAssign:[],includeAutoGeneratedTags:!0,collapseInlineTagWhitespace:!1,collapseBooleanAttributes:!0,minifyJS:!0,removeTagWhitespace:!0,preserveLineBreaks:!1,sortAttributes:!0,removeStyleLinkTypeAttributes:!1,removeComments:!0,minifyCSS:!0,processScripts:[],conservativeCollapse:!1,removeOptionalTags:!1,useShortDoctype:!1},"anchor-navigation-ex":{associatedWithSummary:!1,float:{floatIcon:"fa fa-navicon",level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},mode:"",multipleH1:!0,pageTop:{level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},printLog:!1,showGoTop:!0,showLevel:!1},"hap-util":{},nocache:{},"search-pro":{},"highlight-hap":{},"theme-default":{showLevel:!1,styles:{ebook:"styles/ebook.css",epub:"styles/epub.css",mobi:"styles/mobi.css",pdf:"styles/pdf.css",print:"styles/print.css",website:"styles/website.css"}}},theme:"default",author:"QuickApp.cn",pdf:{pageNumbers:!0,fontSize:12,fontFamily:"Arial",paperSize:"a4",chapterMark:"pagebreak",pageBreaksBefore:"/",margin:{right:62,left:62,top:56,bottom:56}},structure:{langs:"LANGS.md",readme:"README.md",glossary:"GLOSSARY.md",summary:"SUMMARY.md"},variables:{},version:"{{datetime}}",title:"快应用开发文档",language:"zh-hans",gitbook:"3.2.3",description:"快应用的开发文档，供快应用开发者学习和参考"},file:{path:"tutorial/getting-started/development-and-debugging.en.md",mtime:"2020-09-23T10:05:40.000Z",type:"markdown"},gitbook:{version:"3.2.3",time:"2021-08-09T01:41:47.255Z"},basePath:"../..",book:{language:""}}),function(){var e=location.pathname.split("/")[1];e!=(sessionStorage.getItem("indexTab")||"")&&sessionStorage.setItem("mst",0),~location.pathname.indexOf(".html")||sessionStorage.setItem("mst",0),sessionStorage.setItem("indexTab",e);var t=$(".doc-menu"),s=$(".summary");if(!(t.height()>s.height()&&0!==s.height())){t.scroll(function(){sessionStorage.setItem("mst",t.scrollTop())});var a=sessionStorage.getItem("mst")||0;t.scrollTop(a),$("ul.summary li").each(function(){var e=$(this);10<e.data("level").length&&(e.hasClass("active")?e.parent().parent().attr("class","open chapter cur"):e.parent().parent().siblings().each(function(){var e=$(this);!e.hasClass("cur")&&e.hasClass("open chapter")&&e.attr("class","chapter")}))})}}()</script></body></html>