<!DOCTYPE HTML><html lang="zh-hans"><head><meta charset="UTF-8"><meta content="text/html; charset=utf-8"http-equiv="Content-Type"><title>Page routing</title><meta content="IE=edge"http-equiv="X-UA-Compatible"/><meta content="
  
"name="description"><meta content="GitBook 3.2.3"name="generator"><meta content="QuickApp.cn"name="author"><link href="../../gitbook/style.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-search-pro/search.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-highlight-hap/website.css"rel="stylesheet"><link href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css"rel="stylesheet"><link href="../../styles/website.css"rel="stylesheet"><meta content="no-cache"http-equiv="Pragma"/><meta content="no-cache"http-equiv="Cache-Control"/><meta content="0"http-equiv="Expires"/><meta content="true"name="HandheldFriendly"/><meta content="width=device-width,initial-scale=1,user-scalable=no"name="viewport"><meta content="yes"name="apple-mobile-web-app-capable"><meta content="black"name="apple-mobile-web-app-status-bar-style"><link href="../../gitbook/images/apple-touch-icon-precomposed-152.png"rel="apple-touch-icon-precomposed"sizes="152x152"><link href="../../gitbook/images/favicon.ico"rel="shortcut icon"type="image/x-icon"><link href="log.en.html"rel="prev"/><link href="log.en.html"rel="prev"/></head><body><header class="doc-header"><a href="javascript:;"class="btn doc-menu-toggle"aria-label=""><i class="fa fa-bars"aria-hidden="true"></i></a><div class="doc-logo"><a style="font-size:150%"target="_blank"title="quickapp">QuickApp</a></div><div class="doc-nav"><a href="../../">Tutorial</a> <a href="../../tools/toolkit-tools.en.html">Tools</a> <a href="../../framework/index.en.html">Framework</a> <a href="../../widgets/common-events.en.html">Widgets</a> <a href="../index.en.html"class="current">Features</a></div><div class="doc-search-bar"><div id="book-search-input"><i class="fa fa-search icon-search"aria-hidden="true"></i> <input placeholder="关键字搜索"type="text"></div></div></header><div class="doc-container"><nav class="doc-menu"role="navigation"><ul class="summary"><li class="open open chapter"data-level="2.1.3.1"><a href="javascript:;">Basic functions <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.1.1"data-path="app.en.html"><a href="app.en.html">App context</a></li><li class="open chapter"data-level="2.1.3.1.2"data-path="log.en.html"><a href="log.en.html">Log printing</a></li><li class="open open chapter active"data-level="2.1.3.1.3"data-path="router.en.html"><a href="router.en.html">Page routing</a></li></ul></li><li class="open chapter"data-level="2.1.3.2"><a href="javascript:;">Interface interaction <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.2.1"data-path="prompt.en.html"><a href="prompt.en.html">Pop-up window</a></li><li class="open chapter"data-level="2.1.3.2.2"data-path="webview.en.html"><a href="webview.en.html">Open web page</a></li></ul></li><li class="open chapter"data-level="2.1.3.3"><a href="javascript:;">Network access <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.3.1"data-path="fetch.en.html"><a href="fetch.en.html">Data request</a></li></ul></li><li class="open chapter"data-level="2.1.3.4"><a href="javascript:;">File data <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.4.1"data-path="storage.en.html"><a href="storage.en.html">Data storage</a></li><li class="open chapter"data-level="2.1.3.4.2"data-path="file.en.html"><a href="file.en.html">File storage</a></li></ul></li><li class="open chapter"data-level="2.1.3.5"><a href="javascript:;">System capabilities <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.5.1"data-path="geolocation.en.html"><a href="geolocation.en.html">Geographical location</a></li><li class="open chapter"data-level="2.1.3.5.2"data-path="shortcut.en.html"><a href="shortcut.en.html">Home screen icons</a></li><li class="open chapter"data-level="2.1.3.5.3"data-path="network.en.html"><a href="network.en.html">Network status</a></li><li class="open chapter"data-level="2.1.3.5.4"data-path="device.en.html"><a href="device.en.html">Device information</a></li></ul></li><li class="open chapter"data-level="2.1.3.6"><a href="javascript:;">Graphics <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.6.1"data-path="media.en.html"><a href="media.en.html">Multimedia</a></li></ul></li><li class="open chapter"data-level="2.1.3.7"><a href="javascript:;">Vendor services <span class="icon icon-arrow"></span></a><ul class="articles"><li class="open chapter"data-level="2.1.3.7.1"data-path="../service/push.en.html"><a href="../service/push.en.html">Push</a></li></ul></li></ul></nav><div class="doc-content"><div class="doc-content-inner"><div class="page-inner"><div id="book-search-results"><div class="search-noresults"><section class="markdown-section normal"><a href="#page-routing"id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="page-routing"><a href="#page-routing"class="anchor-navigation-ex-anchor"name="page-routing"><i class="fa fa-link"aria-hidden="true"></i></a>Page routing</h1><h2 id="interface-declaration"><a href="#interface-declaration"class="anchor-navigation-ex-anchor"name="interface-declaration"><i class="fa fa-link"aria-hidden="true"></i></a>Interface declaration</h2><p>No declaration required</p><h2 id="import-module"><a href="#import-module"class="anchor-navigation-ex-anchor"name="import-module"><i class="fa fa-link"aria-hidden="true"></i></a>Import module</h2><pre><code>import router from '@system.router' or var router = require("@system.router")
</code></pre><h2 id="interface-definition"><a href="#interface-definition"class="anchor-navigation-ex-anchor"name="interface-definition"><i class="fa fa-link"aria-hidden="true"></i></a>Interface definition</h2><h3 id="routerpushobject"><a href="#routerpushobject"class="anchor-navigation-ex-anchor"name="routerpushobject"><i class="fa fa-link"aria-hidden="true"></i></a>router.push(OBJECT)</h3><p>Jump to a page in the app</p><h4 id="parameters"><a href="#parameters"class="anchor-navigation-ex-anchor"name="parameters"><i class="fa fa-link"aria-hidden="true"></i></a>Parameters:</h4><table><thead><tr><th>Parameters</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>uri</td><td>String</td><td>Yes</td><td>The URI you want to jump to can be in the following format:Complete URIs that contain "schema"; Using web paths in the app beginning with '/'; e.g.: /about.Using page names within the app that don't start with '/'; e.g.: About.Special format. When URI value is "/", the user will be redirected to the page with the path "/", and not the start page. Supports URI with "schema" elements. Here's how you process such URIs:Find all the page filters set under the app to choose a suitable page processing request (see <a href="../../framework/manifest.md">Manifest</a>).If no suitable page can handle the request, then it will use default strategy to process the request. If the default strategy can't process the request, it will try to use an app in the system to process it.If there is no system app that can process the request, then it will discard the request.The processing logic for the default strategy:If the schema is internal (view <a href="../../framework/file-organization.md">File organization</a>), it will determine the file type according to the URI file extension and then call the app in the system again to open the file.</td></tr><tr><td>params</td><td>Object</td><td>No</td><td>When the data has to be transferred while redirecting, the values can be used with the <code>this.param1</code>. "param1" is the name of the json parameter. The matching value of "param1" will be simultaneously converted to the string type.</td></tr></tbody></table><h4 id="example"><a href="#example"class="anchor-navigation-ex-anchor"name="example"><i class="fa fa-link"aria-hidden="true"></i></a>Example:</h4><pre><code>// open page by path
router.push({
  uri: '/about'
  params: {testId:'1'}
});
// open page by name
router.push({
  uri: 'About'
  params: {testId:'1'}
});
</code></pre><h3 id="routerreplaceobject"><a href="#routerreplaceobject"class="anchor-navigation-ex-anchor"name="routerreplaceobject"><i class="fa fa-link"aria-hidden="true"></i></a>router.replace(OBJECT)</h3><p>Jump to a page in the app, the current page can't return</p><h4 id="parameters_1"><a href="#parameters_1"class="anchor-navigation-ex-anchor"name="parameters_1"><i class="fa fa-link"aria-hidden="true"></i></a>Parameters:</h4><table><thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>uri</td><td>String</td><td>Yes</td><td>The URI you want to jump to can be in the below format:The path of the page in the app starting with "/"; e.g.: /about.The name of the page in the app not starting with "/"; e.g.: About.Special format. When URI value is "/", the user will be redirected to the page with the path "/", and not the start page.</td></tr><tr><td>params</td><td>Object</td><td>No</td><td>When the data has to be transferred while redirecting, the values can be used with the <code>this.param1</code>. "param1" is the name of the json parameter. The matching value of "param1" will be simultaneously converted to the string type.</td></tr></tbody></table><h4 id="example_1"><a href="#example_1"class="anchor-navigation-ex-anchor"name="example_1"><i class="fa fa-link"aria-hidden="true"></i></a>Example:</h4><pre><code>router.replace({
  uri: '/test'
  params: {testId:'1'}
})
</code></pre><h3 id="routerback"><a href="#routerback"class="anchor-navigation-ex-anchor"name="routerback"><i class="fa fa-link"aria-hidden="true"></i></a>router.back()</h3><p>Go back to the previous page</p><h4 id="parameters_2"><a href="#parameters_2"class="anchor-navigation-ex-anchor"name="parameters_2"><i class="fa fa-link"aria-hidden="true"></i></a>Parameters:</h4><p>None</p><h4 id="example_2"><a href="#example_2"class="anchor-navigation-ex-anchor"name="example_2"><i class="fa fa-link"aria-hidden="true"></i></a>Example:</h4><pre><code>// Page A
router.push({
  uri: 'B'
})

// Page B
router.push({
  uri: 'C'
})

// Page C will go back to page B through back
router.back();
// Page B will go back to page A through back
router.back();
</code></pre><h3 id="routerclear"><a href="#routerclear"class="anchor-navigation-ex-anchor"name="routerclear"><i class="fa fa-link"aria-hidden="true"></i></a>router.clear()</h3><p>Clear all history, keep only the current page</p><h4 id="parameters_3"><a href="#parameters_3"class="anchor-navigation-ex-anchor"name="parameters_3"><i class="fa fa-link"aria-hidden="true"></i></a>Parameters:</h4><p>None</p><h4 id="example_3"><a href="#example_3"class="anchor-navigation-ex-anchor"name="example_3"><i class="fa fa-link"aria-hidden="true"></i></a>Example:</h4><pre><code>router.clear()
</code></pre><h3 id="routergetlength"><a href="#routergetlength"class="anchor-navigation-ex-anchor"name="routergetlength"><i class="fa fa-link"aria-hidden="true"></i></a>router.getLength()</h3><p>Get the number of pages of the current page stack</p><h4 id="return-value"><a href="#return-value"class="anchor-navigation-ex-anchor"name="return-value"><i class="fa fa-link"aria-hidden="true"></i></a>Return value:</h4><table><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>Number</td><td>Number of pages</td></tr></tbody></table><h4 id="example_4"><a href="#example_4"class="anchor-navigation-ex-anchor"name="example_4"><i class="fa fa-link"aria-hidden="true"></i></a>Example:</h4><pre><code>var length= router.getLength()
console.log("pages' length = "length);
</code></pre><h3 id="routergetstate"><a href="#routergetstate"class="anchor-navigation-ex-anchor"name="routergetstate"><i class="fa fa-link"aria-hidden="true"></i></a>router.getState()</h3><p>Get the status of the current page</p><h4 id="return-parameters"><a href="#return-parameters"class="anchor-navigation-ex-anchor"name="return-parameters"><i class="fa fa-link"aria-hidden="true"></i></a>Return parameters:</h4><table><thead><tr><th>Parameter name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>index</td><td>Number</td><td>The location of the current page in the page stack</td></tr><tr><td>name</td><td>String</td><td>The name of the current page</td></tr><tr><td>path</td><td>String</td><td>The path of the current page</td></tr></tbody></table><h4 id="example："><a href="#example："class="anchor-navigation-ex-anchor"name="example："><i class="fa fa-link"aria-hidden="true"></i></a>Example：</h4><pre><code>var page = router.getState()
console.log("page index = "+page.index);
console.log("page name = "+page.name);
console.log("page path = "+page.path);
</code></pre></section></div><div class="search-results"><div class="has-results"><h1 class="search-results-title"><span class="search-results-count"></span> 条匹配 "<span class="search-query"></span>" 的结果</h1><ul class="search-results-list"></ul></div><div class="no-results"><h1 class="search-results-title">没有搜索到与 "<span class="search-query"></span>" 相关的内容</h1></div></div></div></div></div><a href="log.en.html"class="navigation navigation-prev navigation-unique"aria-label="Previous page: Log printing"><i class="fa fa-angle-left"></i></a></div></div><script src="../../gitbook/gitbook.js"></script><script src="../../gitbook/gitbook-plugin-hap-util/plugin.js"></script><script src="../../gitbook/gitbook-plugin-nocache/nocache.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script><script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script><script>gitbook.page.hasChanged({page:{title:"Page routing",level:"2.1.3.1.3",depth:4,next:{title:"Interface interaction",level:"2.1.3.2",depth:3,ref:"",articles:[{title:"Pop-up window",level:"2.1.3.2.1",depth:4,path:"features/system/prompt.en.md",ref:"features/system/prompt.en.md",articles:[]},{title:"Open web page",level:"2.1.3.2.2",depth:4,path:"features/system/webview.en.md",ref:"features/system/webview.en.md",articles:[]}]},previous:{title:"Log printing",level:"2.1.3.1.2",depth:4,path:"features/system/log.en.md",ref:"features/system/log.en.md",articles:[]},dir:"ltr"},config:{plugins:["html-minifier","-sharing","-fontsettings","hap-util","favicon","theme-default","nocache","-lunr","-search","search-pro","-highlight","highlight-hap","anchor-navigation-ex"],styles:{website:"styles/website.css"},pluginsConfig:{favicon:{shortcut:"",bookmark:""},"html-minifier":{customAttrSurround:[],removeScriptTypeAttributes:!1,removeEmptyAttributes:!1,removeRedundantAttributes:!1,removeEmptyElements:!1,sortClassName:!0,caseSensitive:!0,html5:!0,collapseWhitespace:!0,processConditionalComments:!1,quoteCharacter:null,keepClosingSlash:!0,preventAttributesEscaping:!1,minifyURLs:!1,removeAttributeQuotes:!1,decodeEntities:!0,trimCustomFragments:!1,customAttrAssign:[],includeAutoGeneratedTags:!0,collapseInlineTagWhitespace:!1,collapseBooleanAttributes:!0,minifyJS:!0,removeTagWhitespace:!0,preserveLineBreaks:!1,sortAttributes:!0,removeStyleLinkTypeAttributes:!1,removeComments:!0,minifyCSS:!0,processScripts:[],conservativeCollapse:!1,removeOptionalTags:!1,useShortDoctype:!1},"anchor-navigation-ex":{associatedWithSummary:!1,float:{floatIcon:"fa fa-navicon",level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},mode:"",multipleH1:!0,pageTop:{level1Icon:"",level2Icon:"",level3Icon:"",showLevelIcon:!1},printLog:!1,showGoTop:!0,showLevel:!1},"hap-util":{},nocache:{},"search-pro":{},"highlight-hap":{},"theme-default":{showLevel:!1,styles:{ebook:"styles/ebook.css",epub:"styles/epub.css",mobi:"styles/mobi.css",pdf:"styles/pdf.css",print:"styles/print.css",website:"styles/website.css"}}},theme:"default",author:"QuickApp.cn",pdf:{pageNumbers:!0,fontSize:12,fontFamily:"Arial",paperSize:"a4",chapterMark:"pagebreak",pageBreaksBefore:"/",margin:{right:62,left:62,top:56,bottom:56}},structure:{langs:"LANGS.md",readme:"README.md",glossary:"GLOSSARY.md",summary:"SUMMARY.md"},variables:{},version:"{{datetime}}",title:"快应用开发文档",language:"zh-hans",gitbook:"3.2.3",description:"快应用的开发文档，供快应用开发者学习和参考"},file:{path:"features/system/router.en.md",mtime:"2021-08-12T03:05:11.953Z",type:"markdown"},gitbook:{version:"3.2.3",time:"2021-08-13T10:00:42.051Z"},basePath:"../..",book:{language:""}}),function(){var e=location.pathname.split("/")[1];e!=(sessionStorage.getItem("indexTab")||"")&&sessionStorage.setItem("mst",0),~location.pathname.indexOf(".html")||sessionStorage.setItem("mst",0),sessionStorage.setItem("indexTab",e);var t=$(".doc-menu"),s=$(".summary");if(!(t.height()>s.height()&&0!==s.height())){t.scroll(function(){sessionStorage.setItem("mst",t.scrollTop())});var a=sessionStorage.getItem("mst")||0;t.scrollTop(a),$("ul.summary li").each(function(){var e=$(this);10<e.data("level").length&&(e.hasClass("active")?e.parent().parent().attr("class","open chapter cur"):e.parent().parent().siblings().each(function(){var e=$(this);!e.hasClass("cur")&&e.hasClass("open chapter")&&e.attr("class","chapter")}))})}}()</script></body></html>